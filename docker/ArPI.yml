version: "3"
services:
   server:
      image: arpihomesec/server
      build:
         dockerfile: docker/server.dockerfile
         context: ..
      volumes:
         - ipc:/root/server/tmp
      ports:
         - 8080:8080
      networks:
         - arpi
   monitor:
      image: arpihomesec/monitor
      build:
         dockerfile: docker/monitor.dockerfile
         context: ..
      volumes:
         - ipc:/root/server/tmp
      ports:
         - 8081:8081
      networks:
         - arpi
   database:
      image: arpihomesec/database
      build:
         dockerfile: database.dockerfile
         context: .
      networks:
         - arpi
volumes:
   ipc:
networks:
   arpi: